// カラーパレットのインポート
@import './styles/colors';

// グローバルスタイル
html, body {
  margin: 0;
  padding: 0;
  font-family: 'Roboto', sans-serif;
  background-color: $background-light; // 統一されたカラーを使用
  height: 100%;
  overflow-x: hidden;
}

// iOS Safari対応 - 100vh問題の解決
html {
  height: -webkit-fill-available;
}

body {
  height: -webkit-fill-available;
}

// メインアプリケーションコンテナ
.v-application {
  background-color: $background-light !important; // 統一されたカラーを使用
  padding: 4px; // 全体に4pxのマージンを追加
}

// メインコンテンツエリア
.v-main {
  background-color: $background-light !important; // 統一されたカラーを使用
}

// グローバルコンテナ設定
.v-container {
  max-width: 844px !important; // 最大幅を844pxに制限
  margin: 0 auto !important; // 中央揃え
}

// カスタムCSS変数（colors.scssで既に定義されているため削除可能だが、コメントとして残す）
// CSS変数は colors.scss で定義済み

// アニメーション
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.5s ease-out;
}

// スマホキーボード対応
@supports (height: 100dvh) {
  html, body {
    height: 100dvh;
  }
}

// テキストフィールドのフォーカス時のスタイル
.v-text-field input,
.v-textarea textarea {
  font-size: 16px !important; // iOS Safariでズーム防止
  touch-action: manipulation; // タッチ操作の最適化
}

// キーボード表示時の調整
@media screen and (max-width: 768px) {
  .v-application {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  // フォーカス時の入力フィールドの調整
  .v-text-field.v-input--focused,
  .v-textarea.v-input--focused,
  .v-select.v-input--focused {
    position: relative;
    z-index: 1000;
  }
}

// キーボードが表示されている時の調整
@supports (height: 100dvh) {
  @media screen and (max-width: 768px) {
    .v-application {
      min-height: 100dvh;
    }
  }
}

// iPhone X以降の安全エリア対応
@supports (padding: max(0px)) {
  .v-application {
    // 基本の4pxパディングと安全エリアを組み合わせ
    padding-top: max(4px, env(safe-area-inset-top));
    padding-right: max(4px, env(safe-area-inset-right));
    padding-bottom: max(4px, env(safe-area-inset-bottom));
    padding-left: max(4px, env(safe-area-inset-left));
  }
}
